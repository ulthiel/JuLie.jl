<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Integer types · JuLie</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuLie logo"/></a><div class="docs-package-name"><span class="docs-autofit">JuLie</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox" checked/><label class="tocitem" for="menuitem-1"><span class="docs-label">About</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">JuLie</a></li><li><a class="tocitem" href="../motivation/">Motivation</a></li><li><a class="tocitem" href="../julia-intro/">Introduction to Julia</a></li><li class="is-active"><a class="tocitem" href>Integer types</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Algebraic structures</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../algebraic-structures/oscar/">Basic algebraic structures: OSCAR</a></li><li><a class="tocitem" href="../../algebraic-structures/jucat/">Tensor categories: JuCat</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Combinatorics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../combinatorics/permutations/">Permutations</a></li></ul></li><li><a class="tocitem" href="../../julie-index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">About</a></li><li class="is-active"><a href>Integer types</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Integer types</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ulthiel/JuLie.jl/blob/master/docs/src/about/integer-types.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="integer-types"><a class="docs-heading-anchor" href="#integer-types">Integer types</a><a id="integer-types-1"></a><a class="docs-heading-anchor-permalink" href="#integer-types" title="Permalink"></a></h1><p>There are various <a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/">integer types</a> in Julia. On the one hand there are integer types with a fixed number of bits ranging from 8-bit integers <code>Int8</code> to 128-bit integers <code>Int128</code>. The default integer type <code>Int</code> will be <code>Int64</code> (on a 64-bit machine). Moreover, there is <code>BigInt</code> for arbitrary precision integers. Finally, there is a union type <code>Integer</code> encompassing all the various integer types.</p><p>We are not done yet with the integer types. The <a href="https://nemocas.github.io/Nemo.jl/stable/">Nemo</a> package (which is part of the <a href="https://oscar.computeralgebra.de">OSCAR</a> system) introduces another arbitrary precision integer type <code>fmpz</code> (with shortcut constructor <code>ZZ</code>) from the <a href="https://www.flintlib.org">FLINT</a> library:</p><pre><code class="language-julia">julia&gt; ZZ(2)^64
18446744073709551616

julia&gt; typeof(ZZ(2))
Nemo.fmpz</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>In JuLie we will use <code>fmpz</code> instead of <code>BigInt</code>.</p></div></div><p>There are various reasons why Nemo/OSCAR (and thus JuLie) prefers <code>fmpz</code>: this type is more efficient as it scales between machine integers and big integers; it is better to &quot;own&quot; the integer type when doing exact computer algebra because some Julia functions don&#39;t really do what we expect as algebraists (for example the determinant function <code>det</code> from the <a href="https://docs.julialang.org/en/v1/stdlib/LinearAlgebra/">LinearAlgebra</a> package returns a <code>float</code> for a matrix consisting of <code>Int64</code> integers); the <em>ring</em> ℤ itself is implemented as a structure in Nemo/OSCAR and the  <code>fmpz</code> integers really live in this ring, which reflects the mathematics more accurately:</p><pre><code class="language-julia">julia&gt; parent(ZZ(2))
Integer Ring</code></pre><p>Some mathematical functions in Julia/OSCAR working on integers will return an integer of the same type as they received but this is not completely consistent:</p><pre><code class="language-julia">julia&gt; typeof(factorial(10)) #factorial(21) will cause an overflow error
Int64

julia&gt; typeof(factorial(Int8(10)))
Int64 #Not Int8!

julia&gt; typeof(factorial(ZZ(10))) #factorial(ZZ(21)) no problem
Nemo.fmpz</code></pre><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Always be aware of (and careful with) the integer types you pass to a function and that you get back.</p></div></div><p>As an algebraist, you would be one the safe side by always using <code>fmpz</code>. But having the possibility to use smaller integer types is actually very useful because if you&#39;re sure that smaller integer types are sufficient and never overflow in what you intend to do, this will increase performance and consume less memory. In JuLie we have therefore often implemented parametric types depending on an integer type which allow you to do this. For example, for partitions we have a parametric type <code>Partition{T}</code> where <code>T</code> is a subtype of <code>Integer</code> (the union type of all integer types in Julia) and this allows you to do:</p><pre><code class="language-julia-repl">julia&gt; P=Partition(Int8[2,1])
Int8[2, 1]</code></pre><p>We have created the partition (2,1) of 3 using 8-bit integers. Compare this to constructing the partition with the default integer type:</p><pre><code class="language-julia-repl">julia&gt; P=Partition([2,1])
[2, 1]</code></pre><p>It&#39;s basically the same thing but the former will consume less memory which will be important when dealing with millions of partitions. But you need to be careful when doing arithmetic with the components of a partition because this may overflow—and if it does there will be no warning by Julia!</p><p>Now, functions dealing with partitions can work with smaller integer types as well:</p><pre><code class="language-julia-repl">julia&gt; partitions(Int8(3))
3-element Vector{Partition{Int8}}:
 Int8[3]
 Int8[2, 1]
 Int8[1, 1, 1]</code></pre><p>compared to</p><pre><code class="language-julia-repl">julia&gt; partitions(3)
3-element Vector{Partition{Int64}}:
 [3]
 [2, 1]
 [1, 1, 1]</code></pre><p>Let&#39;s summarize:</p><div class="admonition is-warning"><header class="admonition-header">Advice and warning</header><div class="admonition-body"><p>Use smaller integer types to your advantage but be careful to not cause overflows in your computations.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../julia-intro/">« Introduction to Julia</a><a class="docs-footer-nextpage" href="../contributing/">Contributing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 16 March 2022 11:39">Wednesday 16 March 2022</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
